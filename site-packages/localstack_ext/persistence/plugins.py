from localstack.runtime import hooks
from localstack.services.internal import get_internal_apis
from localstack_ext import config as config_ext
@hooks.on_infra_start(should_load=config_ext.ACTIVATE_PRO)
def register_restricted_pods_api():from localstack_ext.persistence.pods_api import CloudPodsRestrictedApi as A;get_internal_apis().add(A())
@hooks.on_infra_start(should_load=config_ext.ACTIVATE_PRO)
def register_state_serializer_handlers():from localstack.aws.handlers import run_custom_response_handlers as A,serve_custom_service_request_handlers as B;from localstack_ext.persistence.handlers import CIMetricPublisher as C,PodStateSyncHandler as D;B.handlers.append(D());A.handlers.append(C())
@hooks.on_infra_start(should_load=config_ext.ACTIVATE_PRO)
def register_remotes_pods_api():from localstack_ext.persistence.remotes.api import CloudPodsRemotesApi as A;get_internal_apis().add(A())